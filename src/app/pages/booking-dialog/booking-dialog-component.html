<h2 mat-dialog-title>
  <mat-icon>hotel</mat-icon>
  Reservar Habitación {{ data.room.type }}
</h2>

<mat-dialog-content>
  <form [formGroup]="bookingForm">
    <!-- Información de la habitación -->
    <div class="room-summary">
      <h3>Resumen de la reserva</h3>
      <div class="summary-item">
        <span>Habitación N°:</span>
        <strong>{{ data.room.numRoom }}</strong>
      </div>
      <div class="summary-item">
        <span>Tipo:</span>
        <strong>{{ data.room.type }}</strong>
      </div>
      <div class="summary-item">
        <span>Precio por noche:</span>
        <strong>S/ {{ data.room.price | number:'1.2-2' }}</strong>
      </div>
      <div class="summary-item total">
        <span>Noches:</span>
        <strong>{{ totalDays }}</strong>
      </div>
      <div class="summary-item total">
        <span>Total:</span>
        <strong class="price-total">S/ {{ totalPrice | number:'1.2-2' }}</strong>
      </div>
    </div>

    <!-- Fechas de reserva -->
    <div class="form-section">
      <h3>Fechas de estadía</h3>
      <div class="form-row">
        <mat-form-field appearance="outline">
          <mat-label>Fecha de entrada</mat-label>
          <input matInput [matDatepicker]="pickerIn" formControlName="checkInDate">
          <mat-datepicker-toggle matSuffix [for]="pickerIn"></mat-datepicker-toggle>
          <mat-datepicker #pickerIn></mat-datepicker>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Fecha de salida</mat-label>
          <input matInput [matDatepicker]="pickerOut" formControlName="checkOutDate">
          <mat-datepicker-toggle matSuffix [for]="pickerOut"></mat-datepicker-toggle>
          <mat-datepicker #pickerOut></mat-datepicker>
        </mat-form-field>
      </div>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Número de personas</mat-label>
        <mat-select formControlName="numPeople">
          <mat-option [value]="1">1 persona</mat-option>
          <mat-option [value]="2">2 personas</mat-option>
          <mat-option [value]="3">3 personas</mat-option>
          <mat-option [value]="4">4 personas</mat-option>
          <mat-option [value]="5">5+ personas</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <!-- Datos del cliente -->
    <div class="form-section">
      <h3>Información del huésped</h3>
      <div class="form-row">
        <mat-form-field appearance="outline">
          <mat-label>Nombres</mat-label>
          <input matInput formControlName="firstName">
          <mat-icon matPrefix>person</mat-icon>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Apellidos</mat-label>
          <input matInput formControlName="lastName">
        </mat-form-field>
      </div>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>DNI / Documento</mat-label>
        <input matInput formControlName="idCard">
        <mat-icon matPrefix>badge</mat-icon>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Correo electrónico</mat-label>
        <input matInput type="email" formControlName="email">
        <mat-icon matPrefix>email</mat-icon>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Teléfono</mat-label>
        <input matInput formControlName="phone">
        <mat-icon matPrefix>phone</mat-icon>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Dirección</mat-label>
        <input matInput formControlName="address">
        <mat-icon matPrefix>home</mat-icon>
      </mat-form-field>
    </div>
  </form>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="onCancel()">Cancelar</button>
  <button mat-raised-button color="primary" 
          (click)="onSubmit()" 
          [disabled]="!bookingForm.valid">
    Confirmar Reserva
  </button>
</mat-dialog-actions>